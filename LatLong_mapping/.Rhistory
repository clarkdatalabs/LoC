getwd()
data <- read.csv("Location_joined.csv")
View(data)
?transmute
if (!require("pacman")) install.packages("pacman")
pacman::p_load('dplyr')
pacman::p_load('dplyr', 'tidyverse')
?transmute
?ifelse
get_country <- function(a,b) ifelse(grepl('^[A-Za-z]+$', a), a, b)
get_country(data[103845, 6], data[103845, 4])
data[103845,1]
data[103845,6]
?read.csv
data <- read.csv("Location_joined.csv", stringsAsFactors = FALSE)
data[103845,6]
data[103845,1]
get_country(data[103845, 6], data[103845, 4])
get_country(data[122868, 6], data[122868, 4])
data <- data %>%
mutate(country = get_country(ISO_A2, ISOalpha2))
data <- data %>%
mutate(country = get_country(ISO_A2, ISOalpha2)) %>%
transmute(locationString = locationSt,
ISOalpha2 = country,
USAstate = USAstate)
View(data)
?write.csv
pacman::p_load('dplyr', 'tidyverse', RSQLite)
write.csv(data, file = "Location_joined_cleaned")
write.csv(data, file = "Location_joined_cleaned.csv")
data <- read.csv("Location_joined.csv", stringsAsFactors = FALSE)
get_country <- function(a,b) ifelse(grepl('^[A-Za-z]+$', a), a, b)
data <- data %>%
mutate(country = get_country(ISO_A2, ISOalpha2)) %>%
transmute(locationString = locationSt
, latitude = latitude
, longitude = longitude
, ISOalpha2 = country
, USAstate = USAstate)
data <- data %>%
mutate(country = get_country(ISO_A2, ISOalpha2)) %>%
transmute(locationString = locationSt
, latitude = latitude
, longitude = longitude
, ISOalpha2 = country
, USAstate = USAstate)
if (!require("pacman")) install.packages("pacman")
pacman::p_load('dplyr', 'tidyverse', RSQLite)
data <- read.csv("Location_joined.csv", stringsAsFactors = FALSE)
get_country <- function(a,b) ifelse(grepl('^[A-Za-z]+$', a), a, b)
data <- data %>%
mutate(country = get_country(ISO_A2, ISOalpha2)) %>%
transmute(locationString = locationSt
, latitude = latitude
, longitude = longitude
, ISOalpha2 = country
, USAstate = USAstate)
write.csv(data, file = "Location_joined_cleaned.csv")
